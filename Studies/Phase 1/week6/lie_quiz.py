"""
Phase 1 - Week 6: Lie κµ°/λ€μ ν€΄μ¦
==================================
κ°λ… ν™•μΈ ν€΄μ¦
"""

import numpy as np
np.set_printoptions(precision=4, suppress=True)

print("=" * 60)
print("Phase 1 - Week 6: Lie κµ°/λ€μ ν€΄μ¦")
print("=" * 60)

# ============================================================
# λ¬Έμ 
# ============================================================

print("""
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
π”Ά λ¬Έμ  1: Over-parameterized

νμ „ ν–‰λ ¬μ€ 9κ° νλΌλ―Έν„°μ΄μ§€λ§ μ‹¤μ  μμ λ„λ”?
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
""")

print("""
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
π”Ά λ¬Έμ  2: SO(3)

SO(3)λ” λ¬΄μ—‡μ μ§‘ν•©μΈκ°€?
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
""")

print("""
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
π”Ά λ¬Έμ  3: SE(3) μμ λ„

SE(3) λ³€ν™μ μμ λ„λ” λ‡ κ°μΈκ°€?
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
""")

print("""
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
π”Ά λ¬Έμ  4: Lie λ€μ

Lie λ€μλ” Lie κµ°μ μ–΄λ–¤ κ³µκ°„?
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
""")

print("""
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
π”Ά λ¬Έμ  5: exp λ§¤ν•‘

exp λ§¤ν•‘μ μ—­ν• μ€? (A β†’ B ν•νƒλ΅)
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
""")

print("""
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
π”Ά λ¬Έμ  6: log λ§¤ν•‘

log λ§¤ν•‘μ μ—­ν• μ€? (A β†’ B ν•νƒλ΅)
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
""")

print("""
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
π”Ά λ¬Έμ  7: μµμ ν™” μ¥μ 

μµμ ν™”μ—μ„ Lie λ€μλ¥Ό μ‚¬μ©ν•λ©΄ μΆ‹μ€ μ΄μ ?
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
""")

print("""
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
π”Ά λ¬Έμ  8: μ¬λ°”λ¥Έ μ—…λ°μ΄νΈ

νμ „ ν–‰λ ¬ Rμ„ Ξ”ΞΎλ§νΌ μ—…λ°μ΄νΈν•λ” μ¬λ°”λ¥Έ κ³µμ‹?

a) R + Ξ”ΞΎ
b) R @ exp(Ξ”ΞΎ)
c) exp(Ξ”ΞΎ) @ R
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
""")

print("""
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
π”Ά λ¬Έμ  9: Rodrigues κ³µμ‹

Rodrigues κ³µμ‹μ€ μ–΄λ–¤ λ³€ν™μ„ κ³„μ‚°ν•λ”κ°€?
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
""")

print("""
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
π”Ά λ¬Έμ  10: VINS-Fusion

VINS-Fusionμ—μ„ Lie λ€μκ°€ μ‚¬μ©λλ” κ³³μ€?
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
""")

# ============================================================
# λ‹µμ•
# ============================================================

print("\n" + "=" * 60)
print("π“‹ λ‹µμ•")
print("=" * 60)

print("""
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
β… λ‹µ 1: μμ λ„ = 3
   9κ° νλΌλ―Έν„° - 6κ° μ μ•½(Rαµ€R=I, det=1) = 3 μμ λ„
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
β… λ‹µ 2: λ¨λ“  3D νμ „ ν–‰λ ¬μ μ§‘ν•©
   Special Orthogonal Group (3μ°¨μ›)
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
β… λ‹µ 3: 6 μμ λ„
   νμ „ 3 + ν‰ν–‰μ΄λ™ 3 = 6 DOF
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
β… λ‹µ 4: μ ‘μ„  κ³µκ°„ (Tangent Space)
   ν•­λ“±μ› κ·Όμ²μ—μ„μ μ„ ν•ν™”λ κ³µκ°„
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
β… λ‹µ 5: Lie λ€μ β†’ Lie κµ°
   so(3) β†’ SO(3), se(3) β†’ SE(3)
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
β… λ‹µ 6: Lie κµ° β†’ Lie λ€μ
   SO(3) β†’ so(3), SE(3) β†’ se(3)
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
β… λ‹µ 7: μµμ ν™” μ¥μ 
   1. νλΌλ―Έν„° μ = μ‹¤μ  μμ λ„
   2. μ μ•½ μ΅°κ±΄ μ²λ¦¬ λ¶ν•„μ”
   3. ν•­μƒ μ ν¨ν• νμ „/λ³€ν™ λ³΄μ¥
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
β… λ‹µ 8: c) exp(Ξ”ΞΎ) @ R
   μ™Όμ½ κ³± (left multiplication)
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
β… λ‹µ 9: so(3) β†’ SO(3)
   μ¶•-κ° ν‘ν„μ—μ„ νμ „ ν–‰λ ¬λ΅ λ³€ν™
   exp λ§¤ν•‘μ λ‹«ν ν•νƒ
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
β… λ‹µ 10: VINS-Fusionμ—μ„ ν™μ©
   1. IMU μ‚¬μ „μ λ¶„ (νμ „ μ—…λ°μ΄νΈ)
   2. μΉ΄λ©”λΌ ν¬μ¦ μµμ ν™”
   3. μƒνƒ μ¶”μ •μ Jacobian κ³„μ‚°
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
""")

print("\nπ“ μκ°€ μ±„μ : κ° λ¬Έμ λ‹Ή 10μ , μ΄ 100μ ")
print("π’΅ μ΄ λ‚΄μ©μ€ Phase 5μ—μ„ λ‹¤μ‹ λ³µμµλ©λ‹λ‹¤!")
